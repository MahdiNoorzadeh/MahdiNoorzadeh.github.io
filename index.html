<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Puja Sridhar // Cogsworth Protocol</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Courier+Prime&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Courier Prime', monospace;
            background-color: #e0d5c0;
            color: #4a3f36;
            text-shadow: 0 0 2px rgba(74, 63, 54, 0.3);
            transition: background-color 0.3s, color 0.3s;
        }
        #network-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; opacity: 0.15; }
        .terminal-container { position: relative; z-index: 3; }
        #terminal, #gui-mode {
            position: relative;
            background-color: #e0d5c0;
            transition: background-color 0.3s;
            padding-top: 5rem; /* Added padding for sticky header */
        }
        #terminal {
            animation: flicker 0.15s infinite;
            scrollbar-width: none; /* Firefox */
        }
        #terminal::-webkit-scrollbar {
            display: none; /* Safari and Chrome */
        }
        #scanlines { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 4; pointer-events: none; background: repeating-linear-gradient( 0deg, rgba(0,0,0,0) 0, rgba(0,0,0,0) 2px, rgba(74,63,54,0.1) 3px, rgba(74,63,54,0.1) 4px ); }
        @keyframes flicker { 0%, 100% { opacity: 1; } 50% { opacity: 0.98; } }

        #terminal-input {
            background: transparent;
            border: none;
            outline: none;
            color: #4a3f36;
            font-family: 'Courier Prime', monospace;
            caret-color: #4a3f36;
            word-break: break-all;
            -webkit-user-modify: read-write-plaintext-only; /* Prevents rich text pasting */
            flex-grow: 1;
        }
        #terminal-input:focus {
            outline: none;
            box-shadow: none;
        }
        .prompt-live {
            color: #665e52;
            white-space: nowrap;
        }

        .command { color: #d9742b; }
        .link { color: #4a3f36; text-decoration: underline; }
        .link:hover { color: #28201a; }
        .ascii-art {
            white-space: pre;
            font-family: 'Courier Prime', monospace;
            line-height: 1.0;
            font-size: 4px;
            text-align: center;
            transform: scaleY(1.1);
            margin: 2rem 0;
            margin-top: 0rem;
        }
        .ascii-art-bg {
            display: inline-block;
            color: #28201a;
            background-color: #e0d5c0;
        }
       #contact-icons-wrapper {
            position: fixed;
            top: 1rem; /* Adjusted for body padding */
            right: 1rem; /* Adjusted for body padding */
            left: 1rem; /* Adjusted for body padding */
            z-index: 10;
            pointer-events: none;
        }
        #contact-icons-container {
            max-width: 44rem; /* max-w-4xl minus padding */
            margin: 0 auto;
            display: flex;
            justify-content: flex-end;
        }
        #contact-icons {
            display: flex;
            gap: 0.75rem;
            pointer-events: auto;
            align-items: center;
            padding: 1rem;
        }
        #contact-icons a, #contact-icons .icon-button { color: #4a3f36; transition: opacity 0.2s ease-in-out; cursor: pointer; }
        #contact-icons a:hover, #contact-icons .icon-button:hover { opacity: 0.6; }
        #contact-icons svg { width: 24px; height: 24px; fill: currentColor; }

        .output-entry { margin-bottom: 0.75rem; }
        .skills-category-title {
            color: #d9742b;
            margin-bottom: 0.5rem;
            font-weight: bold;
            font-size: 1.15em;
        }
        .skills-subcategory-title {
            font-weight: bold;
            margin-top: 1rem;
            margin-bottom: 0.5rem;
        }
        .skills-grid { display: flex; flex-wrap: wrap; gap: 0.5rem; margin-bottom: 1.5rem; }
        .skill-box { background-color: rgba(74, 63, 54, 0.08); padding: 0.25rem 0.75rem; border-radius: 4px; font-size: 0.9rem; border: 1px solid rgba(74, 63, 54, 0.15); }

        #clock { font-size: 0.9rem; opacity: 0.7; }
        #footer { text-align: center; font-size: 0.8rem; opacity: 0.6; padding-top: 1rem; padding-bottom: 0.5rem; }
        /* #background-footer { position: fixed; bottom: 1rem; left: 0; right: 0; text-align: center; font-size: 0.8rem; z-index: 2; opacity: 0.4; } */

        body.dark {
            background-color: #282828;
            color: #ebdbb2;
            text-shadow: 0 0 2px rgba(235, 219, 178, 0.1);
        }
        body.dark #terminal, body.dark #gui-mode {
            background-color: #282828;
        }
        body.dark #terminal-input,
        body.dark .link,
        body.dark #contact-icons a,
        body.dark #contact-icons .icon-button {
            color: #ebdbb2;
            caret-color: #ebdbb2;
        }
        body.dark .link:hover {
            color: #d5c4a1;
        }
        body.dark .prompt-live {
            color: #a89984;
        }
        body.dark .command, body.dark .skills-category-title {
             color: #fe8019;
        }
        body.dark .skill-box {
            background-color: rgba(235, 219, 178, 0.05);
            border-color: rgba(235, 219, 178, 0.1);
        }

        #moon-icon { display: none; }
        body.dark #sun-icon { display: none; }
        body.dark #moon-icon { display: block; }

        .prompt-line-wrapper {
            display: flex;
            align-items: baseline;
        }
        .prompt-line-wrapper > .prompt-live {
            padding-right: 0.5ch;
        }
        .prompt-line-wrapper > #terminal-input {
            outline: none;
        }

        #gui-mode {
            display: none;
            background-color: #e0d5c0;
            transition: background-color 0.3s;
        }
        #gui-mode h2 {
            font-size: 1.5rem;
            font-weight: bold;
            color: #d9742b;
            margin-top: 2rem;
            margin-bottom: 1rem;
            border-bottom: 1px solid rgba(74, 63, 54, 0.2);
            padding-bottom: 0.5rem;
        }
        body.dark #gui-mode h2 {
            color: #fe8019;
            border-bottom-color: rgba(235, 219, 178, 0.2);
        }
        #gui-mode .gui-section {
            margin-bottom: 2rem;
        }
        #gui-mode .gui-item {
            margin-bottom: 1.5rem;
        }
        #gui-mode .gui-item-title {
            font-weight: bold;
        }
        #gui-mode ul {
            list-style-type: disc;
            padding-left: 2rem;
        }
        #gui-clock {
            font-size: 0.9rem;
            opacity: 0.7;
        }
        #gui-footer {
            text-align: center;
            font-size: 0.8rem;
            opacity: 0.6;
            padding-top: 1rem;
            margin-top: 2rem;
            border-top: 1px solid rgba(74, 63, 54, 0.2);
        }
        body.dark #gui-footer {
            border-top-color: rgba(235, 219, 178, 0.2);
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <canvas id="network-canvas"></canvas>
    <div id="scanlines"></div>
    <div id="contact-icons-wrapper">
        <div id="contact-icons-container">
            <div id="contact-icons">
                <div id="theme-toggle-button" class="icon-button" title="Toggle Theme">
                    <svg id="sun-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
                    <svg id="moon-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
                </div>
                <a href="mailto:pujasridhar28@gmail.com?subject=Connecting%20with%20you%20via%20portfolio&body=Hi%20Puja,%0A%0AI%20came%20across%20your%20portfolio%20and%20wished%20to%20reach%20out.%0A%0APlease%20let%20me%20know%20a%20convenient%20time%20to%20connect.%0A%20Sincerely,%0A%0A[Your%20Name]" title="Email"><svg viewBox="0 0 24 24"><path d="M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0l-8 5l-8-5h16zm0 12H4V8l8 5l8-5v10z"/></svg></a>
                <a href="https://www.linkedin.com/in/pujasridhar/" target="_blank" title="LinkedIn"><svg viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75 .79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg></a>
                <a href="https://github.com/pujasridhar" target="_blank" title="GitHub"><svg viewBox="0 0 25 25"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.09.68-.22.68-.48v-1.7c-2.78.6-3.37-1.34-3.37-1.34-.45-1.15-1.11-1.46-1.11-1.46-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.89 1.53 2.34 1.09 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.95 0-1.09.39-1.98 1.03-2.68-.1-.25-.45-1.27.1-2.65 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.38.2 2.4.1 2.65.64.7 1.03 1.59 1.03 2.68 0 3.85-2.34 4.7-4.57 4.94.36.31.68.92.68 1.85v2.72c0 .27.18.58.69.48A10 10 0 0 0 22 12A10 10 0 0 0 12 2Z"/></svg></a>
                <div id="gui-toggle-button" class="icon-button" title="Switch to Standard View">
                    <svg id="gui-icon-standard" class="icon-button -ml-1.5" viewBox="0 0 240 330" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet">
                      <g stroke="currentColor" stroke-width="20" fill="none" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="12" y="12" width="216" height="306" rx="20" ry="20"/>
                        <circle cx="120" cy="125" r="72"/>
                        <circle cx="120" cy="105" r="22"/>
                        <clipPath id="clip-upper" clipPathUnits="userSpaceOnUse">
                          <rect x="0" y="0" width="240" height="175"/>
                        </clipPath>
                        <g clip-path="url(#clip-upper)">
                          <circle cx="120" cy="182" r="49"/>
                        </g>
                        <line x1="50" y1="235" x2="106" y2="235"/>
                        <line x1="134" y1="235" x2="190" y2="235"/>
                        <line x1="96" y1="270" x2="184" y2="270"/>
                      </g>
                    </svg>
                    <svg id="gui-icon-terminal" style="display: none;" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" y1="19" x2="20" y2="19"></line></svg>
                </div>
            </div>
        </div>
    </div>

    <div class="terminal-container w-full max-w-4xl mx-auto">
        <div id="terminal" class="w-full min-h-[95vh] rounded-lg shadow-2xl shadow-stone-500/20 p-4 flex flex-col">
            <div class="mb-4">
                <div id="clock"></div>
            </div>
            <div id="output" class="flex-grow">
                <!-- Output entries will be added here by JS -->
            </div>
            <div id="input-line" class="prompt-line-wrapper mt-4 flex-shrink-0">
                 <span class="prompt-live text-lg"></span>
                 <div id="terminal-input" class="text-lg" contenteditable="true" spellcheck="false"></div>
            </div>
            <div id="footer"></div>
        </div>
        <div id="gui-mode" class="w-full min-h-[95vh] rounded-lg shadow-2xl shadow-stone-500/20 p-8 overflow-y-auto">
            <div class="flex justify-start mb-8">
                <div id="gui-clock"></div>
            </div>
            <!-- GUI content will be generated here by JS -->
            <div id="gui-footer"></div>
        </div>
    </div>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const outputEl = document.getElementById('output');
        const inputEl = document.getElementById('terminal-input');
        const terminalEl = document.getElementById('terminal');
        const guiModeEl = document.getElementById('gui-mode');
        const guiToggleButton = document.getElementById('gui-toggle-button');
        const clockEl = document.getElementById('clock');
        const guiClockEl = document.getElementById('gui-clock');
        const footerEl = document.getElementById('footer');
        const guiFooterEl = document.getElementById('gui-footer');
        // const backgroundFooterEl = document.getElementById('background-footer');
        const networkCanvas = document.getElementById('network-canvas');
        const networkCtx = networkCanvas.getContext('2d');
        const commandHistory = [];
        let historyIndex = -1;
        const promptText = 'Cogsworth@linux ~ % ';
        const livePromptEl = document.querySelector('.prompt-live');

        let audioCtx;
        let soundsReady = false;
        
        window.addEventListener('keydown', (e) => {
            if (e.ctrlKey || e.metaKey || e.altKey || document.activeElement === inputEl) {
                return;
            }
            // Scroll to the input line with a buffer
            inputEl.scrollIntoView({ behavior: 'smooth', block: 'center' });
            inputEl.focus();
        });

        const portfolioData = {
            about: `I’ve always been fascinated by puzzles, and to me, intelligence itself is the most interesting puzzle of all. This curiosity is what led me to pursue a specialized Bachelor’sdegree in Artificial Intelligence and Machine Learning back in India. I wanted to do more than just use technology; I wanted to understand how to build it. That same drive brought me to Rutgers for my Master's in Computer Science, where I get to dive into even deeper challenges, like robotics and adaptive learning, alongside brilliant PhD students.\n\nBeyond the code, I’m a natural collaborator and organizer, having led events and served as a class representative. I believe the best solutions come from diverse minds working together. Ultimately, I'm a builder at heart, driven by the challenge of creating elegant solutions for complex problems and seeing them make a real-world impact.`,
            education: [
                { school: "Rutgers University, The State University of New Jersey", degree: "Masters of Science in Computer Science", details: "Expected Dec 2025 | GPA: 3.8/4.0" },
                { school: "BMS Institute of Technology and Management, India", degree: "Bachelor of Engineering in Artificial Intelligence and Machine Learning", details: "Graduated May 2023 | GPA: 8.64/10.0" }
            ],
            experience:[
                {
                    role: "AI Engineering Intern",
                    company: "Pennant Education",
                    period: "July 2025 - September 2025",
                    desc: [
                        "Developing and modularizing agentic RPA solutions using UiPath to create scalable tools for enterprise use.",
                        "Contributing to an AI-powered assessment platform featuring adaptive testing and dynamic learning recommendations.",
                        "Exploring the integration of AI and RPA to automate internal business workflows using platforms like Bitrix24 and Keap.",
                        "Leveraging IBM AI toolkits, including Watson, to build and enhance intelligent systems."
                    ]
                },
                {
                    role: "Graduate Teaching Assistant",
                    company: "Rutgers University - School of Communication and Information",
                    period: "September 2024 - Present",
                    desc: [
                        "Assist in teaching key Object-Oriented Programming (OOP) concepts in Python.",
                        "Grade weekly assignments, ensuring timely and constructive feedback.",
                        "Address student queries via email, providing clarification on course materials."
                    ]
                },
                {
                    role: "Computer Science Grader",
                    company: "Rutgers University",
                    period: "September 2024 - Present",
                    desc: [
                        "Assess assignments covering key AI topics such as graph-based search algorithms (DFS, BFS, A*).",
                        "Provide detailed feedback to enhance student understanding in AI concepts.",
                        "Collaborate with course instructor to ensure consistent grading standards."
                    ]
                },
                {
                    role: "AI Developer Intern",
                    company: "Resolute (HumanFractal.ai)",
                    period: "February 2023 - May 2023",
                    desc: [
                        "Contributed to building the Resolute co-pilot, Filomena, using prompt engineering.",
                        "Explored OpenAI models and AWS products, enhancing user interaction by 40%."
                    ]
                },
                {
                    role: "Data Science Intern",
                    company: "Exposys Data Labs",
                    period: "September 2022 - October 2022",
                    desc: [
                        "Tasked with predicting the profit of 50 startups using various regression models.",
                        "Built and evaluated Linear Regression, SVR, Decision Tree, and Random Forest models.",
                        "Achieved 96.04% accuracy with Random Forest, providing insights to optimize financial strategies."
                    ]
                },
                {
                    role: "Alumni Relations Intern",
                    company: "Vaave",
                    period: "November 2020 - December 2021",
                    desc: [
                        "Coordinated outreach efforts with over 200 alumni to foster connections with current students.",
                        "Organized virtual events and networking opportunities to facilitate mentorship.",
                        "Increased student engagement by 30% through targeted alumni interaction programs."
                    ]
                }
            ],
            projects: [
                {
                    name: "Smart Document Finder",
                    tech: "Python, Vector Databases, LLMs",
                    desc: [
                        "<strong>Problem:</strong> Standard keyword search is often inefficient for finding specific information within large document sets.",
                        "<strong>Action:</strong> Developed an intelligent system using vector databases and LLMs to understand natural language queries and retrieve the most relevant document sections.",
                        "<strong>Result:</strong> Significantly improved search accuracy and user efficiency, allowing for contextual and semantic-based information retrieval rather than just keyword matching."
                    ],
                    url: "https://github.com/pujasridhar"
                },
                {
                    name: "Multilingual Health Misinformation Detection",
                    tech: "Python, NLP, Transformers",
                    desc: [
                        "<strong>Problem:</strong> The rapid spread of health misinformation online poses a significant public health risk, especially across different languages and cultures.",
                        "<strong>Action:</strong> Built and trained a Transformer-based NLP model to identify and flag health-related misinformation with high accuracy across multiple languages.",
                        "<strong>Result:</strong> Created a robust system capable of addressing nuanced and culturally specific misinformation, contributing to a safer online information ecosystem."
                    ],
                    url: "https://github.com/pujasridhar"
                },
                {
                    name: "Emotion Detection from Facial Expressions",
                    tech: "Python, TensorFlow, Keras, OpenCV",
                    desc: [
                        "<strong>Problem:</strong> Understanding human emotion is a key challenge in human-computer interaction.",
                        "<strong>Action:</strong> Trained a Convolutional Neural Network (CNN) on the FER-2013 dataset and integrated it with OpenCV for real-time video processing.",
                        "<strong>Result:</strong> Achieved 96% accuracy in classifying facial expressions into emotions like happiness, sadness, and anger, creating a practical tool for affective computing applications."
                    ],
                    url: "https://github.com/pujasridhar"
                },
                {
                    name: "Credit Card Fraud Detection",
                    tech: "Python, Scikit-learn, Isolation Forest",
                    desc: [
                        "<strong>Problem:</strong> Financial institutions require fast and accurate methods to detect fraudulent credit card transactions among millions of legitimate ones.",
                        "<strong>Action:</strong> Implemented and compared multiple anomaly detection algorithms, including Isolation Forest, Local Outlier Factor, and SVMs.",
                        "<strong>Result:</strong> The Isolation Forest model proved most effective, successfully identifying 95% of fraudulent transactions in the dataset and improving detection speed by 25% over other models."
                    ],
                    url: "https://github.com/pujasridhar"
                }
            ],
            certifications: [
                { name: "Academy Accreditation - Generative AI Fundamentals", issuer: "Databricks", credentialId: "146383570" },
                { name: "Academy Accreditation - Databricks Fundamentals", issuer: "Databricks", credentialId: "146298772" },
                { name: "Oracle Cloud Infrastructure 2023 Foundations Associate", issuer: "Oracle", credentialId: null },
                { name: "Python Data Structures", issuer: "University of Michigan", credentialId: null },
                { name: "Programming for Everybody", issuer: "University of Michigan", credentialId: null },
                { name: "AI for Everyone", issuer: "DeepLearning.AI", credentialId: null }
            ],
            talks: [
                { title: "How to Prepare for an AI Developer role through Campus Placements", venue: "BMS Institute of Technology and Management", date: "Summer 2023" },
                { title: "Traffic Management Using AI", venue: "BMS Institute of Technology and Management", date: "Spring 2023" }
            ],
            leadership: [
                { role: "Class Representative", org: "BMS Institute of Technology and Management", period: "June 2020 - May 2023", points: ["Communicated essential updates and announcements from the school administration to over 60 classmates.", "Maintained departmental discipline, resulting in a 15% annual reduction in misconduct incidents."] },
                { role: "Event Head", org: "BMS Institute of Technology and Management", period: "Nov 2022 - Dec 2022", points: ["Executed event strategies aligned with organizational objectives, leading to a 20% increase in event attendance.", "Fostered a collaborative and high-performance environment among the team members."] },
                { role: "Finance Head", org: "BMS Institute of Technology and Management", period: "Sep 2019 - Oct 2019", points: ["Implemented cost-saving measures that resulted in a 15% reduction in operational expenses.", "Led and motivated a finance team, fostering a culture of excellence and accountability."] }
            ],
            contact: { email: "pujasridhar28@gmail.com", linkedin: "https://www.linkedin.com/in/pujasridhar/", github: "https://github.com/pujasridhar" },
            skills: {
                "Languages": ["Python", "SQL"],
                "AI & Machine Learning": ["Deep Learning", "NLP", "Computer Vision", "Data Science"],
                "Data & Cloud": ["AWS (Lambda, EC2, S3, DynamoDB)", "Digital Ocean", "Data Lakes", "Lakehouse", "Data Warehouse"],
                "Tools & Frameworks": ["TensorFlow", "Keras", "Flask", "Pygame", "Tableau", "UiPath", "Moodle", "SPSS", "Matlab", "Android Studio", "Mujoco Sim", "Git"],
                "Soft Skills": ["Leadership", "Communication", "Project Management", "Financial Planning", "Mentorship", "Problem-Solving"]
            },
            languages: [
                { lang: "English", proficiency: "Native / Bilingual" },
                { lang: "Hindi", proficiency: "Native / Bilingual" },
                { lang: "Tamil", proficiency: "Native / Bilingual" },
                { lang: "Kannada", proficiency: "Professional Working Proficiency" },
                { lang: "Telugu", proficiency: "Conversational" }
            ],
            creatorArt: `
<span class="ascii-art-bg">---===++===+=--==++++++++++===---=+*+===+++=+#%%%%%##*##%%%%####*++++===+*##**++*****####################*****+++++++**#
=--++=====++==--------==---===--=+*+=========+*#%%%%##***#%%%####**+*+++++++*+++**+**##%%%%%%%%%%%%%%%%######*+++++++**#
+====----=++=---------=+=--====+++=-------==++*##%%%%%##****#######**+=====++===++*##%%%%%%@@@%%%%%%%%%%%%###*++++++*###
+==------=++=---+=---=++======+*++-------=++*#%%##%%%%%%#***##%%###*+==++++++++**##%%%%%%@%%%%%%%%%%%%%%#***+==++++****
=++==----====---++=--===+++++=+++++=========+**#########%%##***#%####*+=+++++*****#%@@@%%%##*##%%@@%%%%%%#***+++++++++**
=+++==---====---=======-==+++=+*++========---=+++****=*######****######*+++*******#%%%%%%##***#%@@@@@@@%%%##***+++++++*+
--===========--=+*+=-======++====----==-==----==+****+*###%%%###*****##**++**######%%%%%%%%%%%%@@@@@@@@@%%%%%##*******+++
-----=====+==-==+*+==++++======-----=++====---=+*####%%%@@@@@@%%%##**#***++*#%%%%%#%%%%%@@@@@@@@@@@@@@@@%%%%%##****####*
--------=====-=+====-=+*+=----------=+*+===--=*#%%%%%%@%%@@@@@@@@%#####*#*#%%%%%%%%%%%%%@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%
--------=====+++=------++=----------=+*++==+#%%%@@@@@@@%%%%%@@@@@%%%%%%#%###%%%%%%%%%%%@@@@@@@@%%%%%%@@@@@@@@@%%%%%%%%%%
===---======+++++==---=++=-----------=++=+#@@@@@@%##******+**##%@@@@@@@@@%%##%%%%%%%%%%%@%*+*##%%%%@@@%%%%%%%%%%%%%%%%%#
+++=====---++++**+=-=++++==-====------==+%@@@@@%*+===========++*#%@@@@@@@@@%%%####******#*+++++*%@@@@%%%%%%%%%%%%%%%%##%
++++++==-=++******+==+++++==========----*@@@@@%*+==============+**#%@@@@@@@@@%%%##*********++***%%%%%%#%################
=++++===+++*****+++++**++++++***+++=-==+#%@@@%#++============+=++*#%%@@@@-@@@@@%%%########*****#########%%%####%%%%%%%%%%
=++++++++++++++*****++++**+++++**+++=+*+*@@@@%*+===============++*##%%@@@@@@@@%######%%%##########%%%%%%@@@@%%%%%%%%%%%%
+++=+++=-=++===++++++++====++++++++++***#@@%%#*+================+*#%%%@@@@@@@@@#*#%%%%%###########%%%%%%@@@@@%%%%%%%%###
++=+=====++++++++++++++=====++++++=+****#@@@%#+==================++#%%@@@@@@@@%##*%@%%#######****##%%%%@@@@@@@@%%%%%####
+==++++++++++++++**++++++++++++++++++***#@@@#+=++**+++++++++****++++*#%@@@@@@@%%####%%###%#*+++***#%%%@@@@@@@@%###%#####
+++++++++====++++++++=+*******+++++++###%@@#++*#####**+++**###%%%%##**#%@@@@@%%%%#####%%%%#*++**+*#%@@@@@@%%%#****######
=+*+++===++++++++=+++==*********+=+*##*+*%#++++*+******++*##**+******#*#@@@@@%##%%%%#*#%%%%##**+**%@@@@@@%##**+++**#####
--+++===+++++++++++++++******+++++=+*+=+##***####%###**++******#%###*****#%@@@%%%%%%##*#%%%%%#*##%%@@@@@@%##******######
=---=-=++**+==+++++++++++++++++++=+***+*%*+++****####**++***########**+**%@@@%%%%#%%%%###%%%%%##%%%%@@@@@@@%%#####%%%%%%
====-===+++++==++++*++=+++++++++++=+****+#*====++++++++===+++*******+++++*#@@%%%@%#%%%%%#*#%%%%%%%%%%@@@@@@@@%%%%%%%%%%%%
====+++++++++++==++++=++++***++++**+=++=*+=============--=++++=======+++*#@%%%%%%###%%%%#**%%@%%%%%@@@@@@@@@%%%%%%%%%%%%
+===++++++*++=====+++++++++***++*##*++**#+=======++===---==++*+======+++*%%%%%%%%####%%%%##*#%%%%%@@@@@@@@@@%%%%###%####
*==+++=======+====++++**++++***+**#######+====+***+========++*#**+++++++*%%##%%@%#####%%%%##**#%%%@@@@@@@@@@%%%%%%##%%#*
**+++===---=======++++++++++*++==*##%%%#*++++*##*++++++++*****####******##**#%%%%%%%%%#%%%%%##*#%%@@@@@@@@@@@%%%%%%%@@%%
*+++=+++++====+++++===++++++==--=+*##%%#+=++*###***++**######**###%#******+#######%###%#%%%%%####%@@@@@@@@@@%#*+*%%%%@@@
++**+++++++++=+**++====++++===+*+++***#*+=+++****##==++*******%%%##********%##***########%%%%%%##*#@@@@@@@%*+===+#%%##%%
=+***++*++**+++++==+++++++===++=---==**++*=+++++++++==-====++*#**********#*********#####%%%%%%%%####%@@@@@%*++*########%
=+*==+++++++++++++****+====+===--=+++++*#****++++==+++++++++**+*******####*******++*####%%%%%%%%%%####%@@@%*++**##%%@@%%
+++***#*+=====+*****+--===+*++**+++*+=+%%%%%@#+++====++++++*++********#########*++==+####%%%%%%%%%%%###%@@@%#***##%%@@@%
+++++***#**+=-=+***+==+++*+++*###*++==+%@%%@@@%*+=====++++++++++******#########***++*#####%%%%%%%%%%%%####%%***+++*++#%@
+*+=-=+++++**+=-=++*+++++++==*#%@%#****#%%##%@@*++=========++++**###**##**#############%###%%%%%%%%%%%%%#*#*====++===+#%
+=-==+*+====+++++++++=======+#%%%#*****==*##%@%++++++++++++++**####***#@#++##%%%#%%########%%%%#%%%%%%%%%#**+=+++++=++**
++==+****+=====+***+++-=+++***##*******==*%@@#=++++*******########*****@@*-+%%%%%%%%#####%%%%##%%%%%%%%%%##**+++++**++*
+++++++***+***********++++**+*###***+**+==+=-:+*===++***########******#%#==-=#%%#%%%%#######%%%##%%%%%%%%%%##*+==+++*###
****+++*#*******##**##**++***+++*==---::::::::**====++++**************##=-----+##%%%%##****###%###%%%%%%%%%%##**+++****%
*****++*#*******##***#*#%##+=--:::::::--:::::-**=++++++*************##%+--------=++*#%####**####%%%%%%%%%%%%#####**#**#@
*****++**+++***#####*###*=-:::-:::-=---:::--:-**+++++++*************#%*--------------=+*########%%%##%%%%%%%######%%%@@@
++++++++++++******##**=-::::---::-==--:::--::-*#++++++*************##*=-----------------=+*##%####%%%%%%%%%%########%%%%
++++++++++==++++**#+-::::::------=+=-:-::-::--*#++++++*************#*=-----------:::-------=+*####%%%%%%%%%%########*###
+++++++++++++*****=-:--:::-------++=---:--::--+++++=+++*************=------------::------------+##%%%%%%%%%%%%#######*#%
*++++++++********=--:-:---------=+=---::------==:-===+++**+++**+++=-------------=+----------------=*#%%%%%%%%%%##########
**++++++**###**+=:--:----------+++---::--:---==:::-==+++++++==--:::------------=+-------------------*%%%%%%%%%%%%#######
*+++++++**#####*-:-=------:---+++=-----------=-::::::::::--:::::::-------------=+--------------------=*%@%%%%%%%%%%%####
+=-=+*+++*##%%%#--------=----=++=------------==::..:::::::::::::::---------==+**=----------------------=*%%%%%%%%%%%%%%%
+===+++++*##%%%+:------=-:--=++=-----:-------==:::::::::::::::::---------+++*++==-----:-------------------+**%%%%%%%%%%%
+=====++**###%#=----=--=-:-==++=----:--------=-::::::::---:::::------------===-------:-===-----------------=#%%%%%%%%%%%
++=++++****##%#-----=--=-:-=++=-----:--------=-:::::::-::::::-:::-----------==--------=+=----------------=--+%%%%%%%%%%%
**+++++**####%#-----==-----=++=-=--::---------=::::::::::::::-:::-------------===-----=+==---------------=----#@@@%%%%%%%
********######+------=--:-=++===--::---------=::::::::::::::::::-------------=+==----=+==------------=---=---*@@@@@%%%%%
***####*#####*------==----=++==-------------==::::::::::::::::::-------------=+==----=+===-----=---====--==--+@@@@@@%%%%
***####*#####*-------==:--=++==-------------==::::::::::::::::::-------------=+==----++===---==--=======--=-==%@@@@@@%%%
****#######**+:------==:-==++==---::--------=-:::::::::::::::::--------------+++=---=++=======--=======-----=+%@@@@@@@%%
******####***=:-----==-:-==++=-----------:--=-:::::::::::::::::-------------**+==---=++======--=====---===--=+@@@@@@@@@@
+******###**+-:-----=+---=+++=---------:::--=-:::::::::::::::::-------------*++=---=++=====--====----====---*@@@@@@@@@@
++++********+:-----===---=+++=-----:--:::--==-::::::::::::::::-------------+*++=----=*+=====-==----========--#@@@@@@@@%%
+++++++****+=:-----=+=:--=++====----::::---==-::::::::::::::::-------------**++==----+*+=====-----==========--*%@@@@%%%%%
+++++++****+-------=+-:-==++==-----:--::---==-::::::::::::::::------------+*++==----+*+====---====--========-+%@%%%%%%%%
+++++++****=-----====---==++==-------::----==-::::::::::::::::-----------=**++==----+*+====-====---====--=====%@@%%#%%%%
++++++++***------====:--==+====-----::-----==--::::::::::::::------------**+++==----+*+=++====---====--=======#%%%%%%%%#
+++++++++++------===-:--==+====-----------===--::::::::::::::-----------+**+++==----+*++*+==--====---=========#%%%######
+++++++++*+-------==-:--=======-----------=+=---:::::::::::::----------=**+++===----**+*+=---===---===========*%%%######
+++++++++*-------==+----=======----=::----=+=---::::::::::::-----------+**+++==----**+*+=---===---===========*%%%%####%
++++++++*+------===+----===++==----=------=+=---::::::::::::----------=**++++==---==**+*====--================+%%%%##%%%
++++++***=:-------==----===++=-----=-----=++==---:::::::::::----------**+++++==---==***+=--===================+#%%%%%%##
+++++***+-------==+=:---==+++=-----=-----=+++=----::::::::::---------+*++++++==---==**#+=------------========-=*##%%%###
++++****+-----====+=:---=+++==-----=-::-==++==----:::::::-----------=*++++++==---===*##+====----==========--==+#########
+++****#+---======+-:--=+++==-----=-:--======----:::::-------------+*++++++==---===##*+=--=======---------===+#########
=+++**#*=:----====+-:--=+++==-----=-:--===-------:::::--::--------=**+++++=+=---===#%*+=---==========--======+*###**###
=====+++---------==:---=++++==-----=---====-------:::::::::--------**+++++++=---====#%#+====----=====++==---=-+*********
=======----=-==++++:--==++++==-----=---==+=--:::::----------------=**+++++++=---====#%#+==------=----==++==---+*********
*++====------===++=:--==+++===-----==--==**=-:::::::::------------**+++++++==--=====#%#+=====---=========+++=-+#********
####**+---=======+=----=++==------==--=+*++=::::::::::::::------+**+++++++=---=====%%#+=======--======---=++=+##*******
+*####=:::----===+=---=++===------=--==++===-:::::::::::::-----=**+++=++++=---====+%@#+==---=============--===####*####
=++=+*---======++*=---=++===------=--==*++=---:::::::::::------+**++=++++==--=====*@%%*====---======-=====-===*########</span>
`};

        function moveCursorToEnd(el) {
            const range = document.createRange();
            const sel = window.getSelection();
            range.selectNodeContents(el);
            range.collapse(false);
            sel.removeAllRanges();
            sel.addRange(range);
        }

        function playSound(frequency, type) {
            if (!soundsReady) return;
            const oscillator = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            oscillator.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            oscillator.type = type;
            oscillator.frequency.setValueAtTime(frequency, audioCtx.currentTime);
            gainNode.gain.setValueAtTime(0.2, audioCtx.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.08);
            oscillator.start(audioCtx.currentTime);
            oscillator.stop(audioCtx.currentTime + 0.08);
        }

        const initAudio = () => {
            try {
                audioCtx = new (window.AudioContext || window.webkitAudioContext)();
                soundsReady = true;
            } catch (e) {
                console.error("Web Audio API could not be started:", e);
            }
        };

        terminalEl.addEventListener('click', initAudio, { once: true });
        
        terminalEl.addEventListener('click', (event) => {
            if (event.target.tagName.toLowerCase() !== 'a') {
                inputEl.focus();
            }
        });

        const commands = {
            'help': showHelp, 'about': showAbout, 'education': showEducation, 'experience': showExperience,
            'projects': showProjects, 'skills': showSkills, 'languages': showLanguages,
            'certifications': showCertifications, 'talks': showTalks, 'leadership': showLeadership,
            'resume': showResume, 'contact': showContact, 'clear': clearTerminal,
            'all': showAllInfo, 'creator': showCreator
        };

        function appendOutput(html, isCommand = false) {
            const wrapper = document.createElement('div');
            wrapper.className = 'output-entry';
            if (isCommand) {
                const promptSpan = `<span class="prompt-live text-lg">${promptText.replace(/ /g, '&nbsp;')}</span>`;
                const commandSpan = `<span class="command text-lg" style="white-space: pre-wrap; word-break: break-all;">${html}</span>`;
                const promptLine = document.createElement('div');
                promptLine.className = 'prompt-line-wrapper';
                promptLine.innerHTML = `${promptSpan}${commandSpan}`;
                wrapper.appendChild(promptLine);
            } else {
                wrapper.innerHTML = html.replace(/\n\n/g, '<br><br>').replace(/\n/g, '<br>');
            }
            outputEl.appendChild(wrapper);
            window.scrollTo(0, document.body.scrollHeight);
        }

        function showHelp() {
            let helpText = `Available commands:<br>  <span class="command">about</span>, <span class="command">education</span>, <span class="command">experience</span>, <span class="command">projects</span>, <span class="command">skills</span>, <span class="command">languages</span>, <span class="command">certifications</span>, <span class="command">talks</span>, <span class="command">leadership</span>, <span class="command">resume</span>, <span class="command">contact</span>, <span class="command">creator</span>, <span class="command">all</span>, <span class="command">clear</span>`;
            helpText += `<br><br>You can also ask me a question, like: <i>"What are her most recent projects?"</i>`;
            appendOutput(helpText);
        }
        function showAbout() { appendOutput(`<div class="skills-category-title">About Me</div>${portfolioData.about}`); }
        function showEducation() {
            let html = '<div class="skills-category-title">Education</div>';
            portfolioData.education.forEach(edu => {
                html += `<span class="command">${edu.school}</span><br>${edu.degree}<br><i>${edu.details}</i>\n\n`;
            });
            appendOutput(html.trim());
        }
        function showExperience() {
            let html = '<div class="skills-category-title">Experience</div>';
            portfolioData.experience.forEach(e => {
                html += `<span class="command">${e.role}</span> @ ${e.company} (${e.period})<br>`;
                e.desc.forEach(point => {
                    html += `- ${point}<br>`;
                });
                html += '\n';
            });
            appendOutput(html.trim());
        }
        function showProjects() {
            let html = '<div class="skills-category-title">Projects</div>';
            portfolioData.projects.forEach(p => {
                html += `<span class="command">${p.name}</span><br>  Tech: ${p.tech}<br>`;
                p.desc.forEach(point => {
                    html += `  - ${point}<br>`;
                });
                html += `  <a href="${p.url}" target="_blank" class="link">View on GitHub -></a>\n\n`;
            });
            appendOutput(html.trim());
        }
        function showSkills() {
            let html = '<div class="skills-container">';
            html += '<div class="skills-category-title">Skills</div>';
            for (const category in portfolioData.skills) {
                html += `<div class="skills-subcategory-title">${category}</div>`;
                html += '<div class="skills-grid">';
                portfolioData.skills[category].forEach(skill => {
                    html += `<div class="skill-box">${skill}</div>`;
                });
                html += '</div>';
            }
            html += '</div>';
            appendOutput(html);
        }
        function showLanguages() {
            let html = '<div class="skills-category-title">Languages</div>';
            portfolioData.languages.forEach(lang => {
                html += `<span class="command">${lang.lang}:</span> ${lang.proficiency}\n`;
            });
            appendOutput(html.trim());
        }
        function showCertifications() {
            let html = '<div class="skills-category-title">Certifications</div>';
            portfolioData.certifications.forEach(cert => {
                html += `<span class="command">${cert.name}</span> - ${cert.issuer}\n`;
                if (cert.credentialId) {
                    html += `Credential ID: ${cert.credentialId}\n`;
                }
                html += '\n';
            });
            appendOutput(html.trim());
        }
        function showTalks() {
            let html = '<div class="skills-category-title">Talks & Lectures</div>';
            portfolioData.talks.forEach(talk => {
                html += `<span class="command">"${talk.title}"</span><br><i>Presented at ${talk.venue}, ${talk.date}</i>\n\n`;
            });
            appendOutput(html.trim());
        }
        function showLeadership() {
            let html = '<div class="skills-category-title">Leadership</div>';
            portfolioData.leadership.forEach(role => {
                html += `<span class="command">${role.role}</span> | ${role.org} (${role.period})\n`;
                role.points.forEach(point => {
                    html += `- ${point}\n`;
                });
                html += '\n';
            });
            appendOutput(html.trim());
        }
        function showResume() {
            let html = '<div class="skills-category-title">Resume</div>';
            html += `Access my full resume here: <a href="https://drive.google.com/file/d/1XrZ5vb9nad2WnyswQOYPBe3D7speSn6T/view?usp=sharing" target="_blank" class="link">PujaSridhar_Resume.pdf</a>`;
            appendOutput(html);
        }
        function showContact() {
            let html = '<div class="skills-category-title">Contact</div>';
            const prefilledEmail = "mailto:pujasridhar28@gmail.com?subject=Connecting%20with%20you&body=Hi%20Puja,%0A%0AI%20came%20across%20your%20portfolio%20and%20wished%20to%20reach%20out.%0A%0APlease%20let%20me%20know%20a%20convenient%20time%20to%20connect.%0A%0ASincerely,%0A%0A[Your%20Name]";
            html += `Email: <a href="${prefilledEmail}" class="link">${portfolioData.contact.email}</a><br>LinkedIn: <a href="${portfolioData.contact.linkedin}" target="_blank" class="link">${portfolioData.contact.linkedin}</a><br>GitHub: <a href="${portfolioData.contact.github}" target="_blank" class="link">${portfolioData.contact.github}</a>`;
            appendOutput(html);
        }
        function showCreator() { appendOutput(`<div class="ascii-art">${portfolioData.creatorArt}</div>`); }

        function showAllInfo() {
            const sections = ['about', 'education', 'experience', 'projects', 'skills', 'languages', 'certifications', 'talks', 'leadership', 'resume', 'contact'];
            let jumpLinks = 'Jump to: ';
            sections.forEach(sec => {
                jumpLinks += `<a href="#${sec}" class="link" onclick="document.getElementById('${sec}').scrollIntoView(); return false;">${sec}</a> | `;
            });
            appendOutput(jumpLinks.slice(0, -2));

            sections.forEach(sec => {
                const el = document.createElement('div');
                el.id = sec;
                outputEl.appendChild(el);
                commands[sec]();
            });
        }

        function clearTerminal() {
            outputEl.innerHTML = '';
            startBootSequence();
        }

        async function getGeminiResponse(prompt) {
            appendOutput('Cogsworth is thinking...');
            const apiUrl = `https://puja-sridhar-github-io.vercel.app/api/gemini_call`;
            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ prompt: prompt, portfolioData: portfolioData })
                });
                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                const result = await response.json();
                const thinkingMessage = Array.from(outputEl.querySelectorAll('.output-entry')).pop();
                if(thinkingMessage && thinkingMessage.textContent.includes('Cogsworth is thinking...')) {
                    thinkingMessage.remove();
                }
                if (result.candidates && result.candidates[0].content.parts[0].text) {
                    appendOutput(parseMarkdown(result.candidates[0].content.parts[0].text));
                } else {
                    appendOutput("<span class='error'>Sorry, I couldn't get a response.</span>");
                }
            } catch (error) {
                const thinkingMessage = Array.from(outputEl.querySelectorAll('.output-entry')).pop();
                if(thinkingMessage && thinkingMessage.textContent.includes('Cogsworth is thinking...')) {
                    thinkingMessage.remove();
                }
                appendOutput("<span class='error'>Error: Could not connect to the AI assistant.</span>");
                console.error("AI Fetch Error:", error);
            }
        }

        function parseMarkdown(text) { return text.replace(/\*\*(.*?)\*\*/g, '<span class="command">$1</span>').replace(/\*(.*?)\*/g, '<i>$1</i>').replace(/\n/g, '<br>'); }

        inputEl.addEventListener('keydown', (e) => {
             if (e.key === 'Tab') {
                e.preventDefault();
                const currentInput = inputEl.textContent.trim();
                const potentialCommands = Object.keys(commands).filter(cmd => cmd.startsWith(currentInput));
                if (potentialCommands.length > 0) {
                    inputEl.textContent = potentialCommands[0];
                    moveCursorToEnd(inputEl);
                }
            } else if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                playSound(440, 'square');
                const userInput = inputEl.innerText.trim();
                if (!userInput) return;
                appendOutput(userInput, true);
                if (commands[userInput.toLowerCase()]) {
                    commands[userInput.toLowerCase()]();
                } else {
                    getGeminiResponse(userInput);
                }
                commandHistory.unshift(userInput);
                historyIndex = -1;
                inputEl.textContent = '';
            } else if (e.key === 'ArrowUp') {
                e.preventDefault();
                if (historyIndex < commandHistory.length - 1) {
                    historyIndex++;
                    inputEl.textContent = commandHistory[historyIndex];
                    moveCursorToEnd(inputEl);
                }
            } else if (e.key === 'ArrowDown') {
                e.preventDefault();
                if (historyIndex > 0) {
                    historyIndex--;
                    inputEl.textContent = commandHistory[historyIndex];
                    moveCursorToEnd(inputEl);
                } else {
                    historyIndex = -1;
                    inputEl.textContent = '';
                }
            } else {
                 playSound(880, 'sine');
            }
        });

        function startBootSequence() {
            const bootText = `Initializing Cogsworth v1.0...\nChanneling legacy of Babbage, Lovelace, Turing... OK.\nParsing lineage of data... OK.\nProtocol established. Welcome.\n\nI am Cogsworth, an AI built to present the work of Puja Sridhar.\nType <span class="command">'help'</span> for a list of commands, or ask me a question in plain English.`;
            appendOutput(bootText, false);
            inputEl.focus();
        }

        function updateClock() {
            const timeString = new Date().toLocaleTimeString();
            clockEl.textContent = timeString;
            if (guiClockEl) guiClockEl.textContent = timeString;
        }
        
        const copyrightText = `&copy; ${new Date().getFullYear()} Puja Sridhar. All rights reserved. | <a href="https://drive.google.com/file/d/1XrZ5vb9nad2WnyswQOYPBe3D7speSn6T/view?usp=sharing" target="_blank" class="link">View Resume</a>`;
        footerEl.innerHTML = copyrightText;
        // backgroundFooterEl.innerHTML = `&copy; ${new Date().getFullYear()} Puja Sridhar. All rights reserved.`;

        const guiFooterText = `&copy; ${new Date().getFullYear()} Puja Sridhar. All rights reserved. | <a href="https://drive.google.com/file/d/1XrZ5vb9nad2WnyswQOYPBe3D7speSn6T/view?usp=sharing" target="_blank" class="link">View Full Resume</a>`;
        if (guiFooterEl) guiFooterEl.innerHTML = guiFooterText;

        setInterval(updateClock, 1000);
        updateClock();

        const darkModeToggle = document.getElementById('theme-toggle-button');
        let networkColor = "74, 63, 54";

        function setDarkMode(isDark) {
            if (isDark) {
                document.body.classList.add('dark');
                networkColor = "235, 219, 178";
            } else {
                document.body.classList.remove('dark');
                networkColor = "74, 63, 54";
            }
        }

        darkModeToggle.addEventListener('click', () => {
            const isDark = document.body.classList.toggle('dark');
            localStorage.setItem('darkMode', isDark);
            setDarkMode(isDark);
        });

        if (localStorage.getItem('darkMode') === 'true') {
            setDarkMode(true);
        }

        livePromptEl.innerHTML = promptText.replace(/ /g, '&nbsp;');

        function generateGuiContent() {
            // Find the container within gui-mode to inject content, preserving the clock and footer
            const guiContentContainer = document.createElement('div');
            let html = ``;
            html += `<div class="gui-section"><h2>About Me</h2><p>${portfolioData.about.replace(/\n/g, '<br>')}</p></div>`;
            html += `<div class="gui-section"><h2>Experience</h2>`;
            portfolioData.experience.forEach(e => {
                html += `<div class="gui-item"><div class="gui-item-title">${e.role} @ ${e.company} (${e.period})</div><ul>`;
                e.desc.forEach(p => { html += `<li>${p}</li>`; });
                html += `</ul></div>`;
            });
            html += `</div>`;
            html += `<div class="gui-section"><h2>Projects</h2>`;
            portfolioData.projects.forEach(p => {
                html += `<div class="gui-item"><div class="gui-item-title">${p.name} (<span class="text-sm">${p.tech}</span>)</div><ul>`;
                p.desc.forEach(d => { html += `<li>${d}</li>`; });
                html += `</ul><a href="${p.url}" target="_blank" class="link">View on GitHub -></a></div>`;
            });
            html += `</div>`;
            html += `<div class="gui-section"><h2>Skills</h2>`;
            for (const category in portfolioData.skills) {
                html += `<div class="skills-subcategory-title">${category}</div>`;
                html += '<div class="skills-grid">';
                portfolioData.skills[category].forEach(skill => {
                    html += `<div class="skill-box">${skill}</div>`;
                });
                html += '</div>';
            }
            html += '</div>';
            guiContentContainer.innerHTML = html;
            
            // Clear previous content before adding new
            const oldContent = guiModeEl.querySelector('.gui-content-wrapper');
            if(oldContent) oldContent.remove();

            guiContentContainer.className = 'gui-content-wrapper';
            guiModeEl.insertBefore(guiContentContainer, guiFooterEl);
        }

        const guiIconStandard = document.getElementById('gui-icon-standard');
        const guiIconTerminal = document.getElementById('gui-icon-terminal');

        guiToggleButton.addEventListener('click', () => {
            const isTerminalVisible = terminalEl.style.display !== 'none';
            if (isTerminalVisible) {
                terminalEl.style.display = 'none';
                guiModeEl.style.display = 'block';
                guiToggleButton.title = "Switch to Terminal View";
                guiIconStandard.style.display = 'none';
                guiIconTerminal.style.display = 'block';
                generateGuiContent();
            } else {
                terminalEl.style.display = 'flex';
                guiModeEl.style.display = 'none';
                guiToggleButton.title = "Switch to Standard View";
                guiIconStandard.style.display = 'block';
                guiIconTerminal.style.display = 'none';
            }
        });

        const mouse = { x: undefined, y: undefined };
        window.addEventListener('mousemove', (event) => { mouse.x = event.x; mouse.y = event.y; });
        let nodes = [];
        const nodeCount = Math.floor((window.innerWidth * window.innerHeight) / 25000);
        function resizeCanvas() { networkCanvas.width = window.innerWidth; networkCanvas.height = window.innerHeight; }
        function setupNetwork() {
            nodes = [];
            for (let i = 0; i < nodeCount; i++) {
                nodes.push({ x: Math.random() * networkCanvas.width, y: Math.random() * networkCanvas.height, vx: (Math.random() - 0.5) * 0.3, vy: (Math.random() - 0.5) * 0.3, radius: Math.random() * 1.5 + 1 });
            }
        }
        function drawNetwork() {
            networkCtx.clearRect(0, 0, networkCanvas.width, networkCanvas.height);
            const interactionRadius = 150;
            nodes.forEach(node => {
                node.x += node.vx; node.y += node.vy;
                if (node.x < 0 || node.x > networkCanvas.width) node.vx *= -1;
                if (node.y < 0 || node.y > networkCanvas.height) node.vy *= -1;
                let mouseDistance = mouse.x === undefined ? Infinity : Math.hypot(node.x - mouse.x, node.y - mouse.y);
                const opacity = Math.max(0, 1 - mouseDistance / interactionRadius);
                networkCtx.beginPath();
                networkCtx.arc(node.x, node.y, node.radius, 0, Math.PI * 2);
                networkCtx.fillStyle = `rgba(${networkColor}, ${0.5 + opacity * 0.5})`;
                networkCtx.fill();
            });
            for (let i = 0; i < nodes.length; i++) {
                for (let j = i + 1; j < nodes.length; j++) {
                    const dist = Math.hypot(nodes[i].x - nodes[j].x, nodes[j].y - nodes[j].y);
                    if (dist < 120) {
                        const mouseDistance = mouse.x === undefined ? Infinity : Math.hypot(((nodes[i].x + nodes[j].x) / 2) - mouse.x, ((nodes[i].y + nodes[j].y) / 2) - mouse.y);
                        const opacity = Math.max(0.1, 1 - mouseDistance / interactionRadius);
                        networkCtx.beginPath();
                        networkCtx.moveTo(nodes[i].x, nodes[i].y);
                        networkCtx.lineTo(nodes[j].x, nodes[j].y);
                        networkCtx.strokeStyle = `rgba(${networkColor}, ${(1 - dist / 120) * 0.5 * opacity})`;
                        networkCtx.stroke();
                    }
                }
            }
        }
        function animate() { drawNetwork(); requestAnimationFrame(animate); }

        window.addEventListener('resize', () => {
            resizeCanvas();
            setupNetwork();
        });
        resizeCanvas();
        setupNetwork();
        animate();
        startBootSequence();
    });
    </script>
    
</body>
</html>